@using safe_web_app.Models
@model List<Application>
@{
    ViewBag.Title = "Catalogue";
}

<style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
    }
</style>

<body style="background-image:url('../../Images/background.jpg')">
    <h2>Full App Catalogue</h2>

    <div class="row" style="margin:4px">
        @{foreach (var app in Model)
            {
                <div class="col-md-4">
                    <h2><img src="~/Images/@app.imageUrl" alt="" height="42" width="42" /> @app.title</h2>
                    <p>
                        <a style="color:black" href="@Url.Action("Comment", "Home", new { appId = app.id })">@app.app_desc</a>
                    </p>
                    <p>
                        <strong>Rating: </strong>@app.rating
                        @{
                            for (int i = 1; i < app.rating; i++)
                            {
                                <img src="~/Images/fullStar.jpg" alt="fullStar" height="20" width="20" />
                            }
                            if (app.rating == 4)
                            {
                                <img src="~/Images/fullStar.jpg" alt="fullStar" height="20" width="20" />
                            }
                            int num = 0;
                            if (app.rating % 1 > 0)
                            {
                                num = 1;
                                <img src="~/Images/halfStar.jpg" alt="halfStar" height="22" width="20" />
                            }
                            else
                            {
                                num = 0;
                            }

                            for (int i = 0; i < 5 - num - app.rating; i++)
                            {
                                <img src="~/Images/emptyStar.jpg" alt="emptyStar" height="20" width="20" />
                            }
                        }
                    </p>
                    <p>
                        <a class="btn btn-primary" href="@app.url" target="_blank">Learn more &raquo;</a>
                    </p>
                </div>
            }
        }
    </div>
</body>
